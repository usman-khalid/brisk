import{decorateButtons as s,decorateIcons as i,decorateSections as r,decorateBlocks as l,decorateTemplateAndTheme as d,loadSection as u,waitForFirstImage as m,sampleRUM as y,loadSections as f,loadHeader as w,loadFooter as h,loadCSS as a,_ as S,buildBlock as p}from"./aem.min.js";function g(e){const o=e.querySelector("h1"),t=e.querySelector("picture");if(o&&t&&o.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING){const n=o.closest("div");n.append(p("hero",{elems:[t,o]})),e.prepend(n)}}async function c(){await a(`${window.hlx.codeBasePath}/styles/fonts.css`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}function I(e){try{g(e)}catch(o){console.error("Auto Blocking failed",o)}}function _(e){s(e),i(e),I(e),r(e),l(e)}async function B(e){document.documentElement.lang="en",d();const o=e.querySelector("main");o&&(_(o),document.body.classList.add("appear"),await u(o.querySelector(".section"),m)),y.enhance();try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&c()}catch{}}async function E(e){const o=e.querySelector("main");await f(o);const{hash:t}=window.location,n=t?e.getElementById(t.substring(1)):!1;t&&n&&n.scrollIntoView(),w(e.querySelector("header")),h(e.querySelector("footer")),a(`${window.hlx.codeBasePath}/dist/assets/lazy-styles.min.css`),c()}function P(){window.setTimeout(()=>S(()=>import("./delayed.min.js"),[]),3e3)}async function q(){await B(document),await E(document),P()}q();export{_ as decorateMain};
