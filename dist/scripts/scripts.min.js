import{decorateButtons as l,decorateIcons as d,decorateSections as u,decorateBlocks as m,decorateTemplateAndTheme as y,loadSection as f,waitForFirstImage as h,sampleRUM as w,loadSections as S,loadHeader as p,loadFooter as g,loadCSS as c,_ as q,buildBlock as I}from"./aem.min.js";function _(e){const t=e.querySelector("h1"),o=e.querySelector("picture");if(t&&o&&t.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_PRECEDING){const n=t.closest("div");if(n.querySelector(".section-metadata")&&n.querySelector(".section-metadata").querySelector("picture"))return;const s=[...n.children].filter(r=>!r.classList.contains("section-metadata")),i=I("hero",{elems:s});n.append(i)}}async function a(){await c(`${window.hlx.codeBasePath}/styles/fonts.css`);try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}function B(e){try{_(e)}catch(t){console.error("Auto Blocking failed",t)}}function E(e){l(e),d(e),B(e),u(e),m(e)}async function P(e){document.documentElement.lang="en",y();const t=e.querySelector("main");t&&(E(t),document.body.classList.add("appear"),await f(t.querySelector(".section"),h)),w.enhance();try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&a()}catch{}}async function b(e){const t=e.querySelector("main");await S(t);const{hash:o}=window.location,n=o?e.getElementById(o.substring(1)):!1;o&&n&&n.scrollIntoView(),p(e.querySelector("header")),g(e.querySelector("footer")),c(`${window.hlx.codeBasePath}/dist/assets/lazy-styles.min.css`),a()}function k(){window.setTimeout(()=>q(()=>import("./delayed.min.js"),[]),3e3)}async function T(){await P(document),await b(document),k()}T();export{E as decorateMain};
