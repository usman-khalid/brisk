const L="modulepreload",A=function(t){return"/"+t},g={},$=function(e,o,n){let a=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.all(o.map(s=>{if(s=A(s),s in g)return;g[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":L,c||(l.as="script",l.crossOrigin=""),l.href=s,r&&l.setAttribute("nonce",r),document.head.appendChild(l),c)return new Promise((h,f)=>{l.addEventListener("load",h),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}return a.then(()=>e()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})};function u(t,e){const o=()=>window.performance?window.performance.now():Date.now()-window.hlx.rum.firstReadTime;try{if(window.hlx=window.hlx||{},u.enhance=()=>{},!window.hlx.rum){const n=new URLSearchParams(window.location.search).get("rum")==="on"?1:100,a=Math.random().toString(36).slice(-4),i=Math.random()*n<1;window.hlx.rum={weight:n,id:a,isSelected:i,firstReadTime:window.performance?window.performance.timeOrigin:Date.now(),sampleRUM:u,queue:[],collector:(...r)=>window.hlx.rum.queue.push(r)},i&&(["error","unhandledrejection"].forEach(r=>{window.addEventListener(r,({reason:s,error:c})=>{const d={source:"undefined error"};try{d.target=(s||c).toString(),d.source=(s||c).stack.split(`
`).filter(l=>l.match(/https?:\/\//)).shift().replace(/at ([^ ]+) \((.+)\)/,"$1@$2").trim()}catch{}u("error",d)})}),u.baseURL=u.baseURL||new URL(window.RUM_BASE||"/",new URL("https://rum.hlx.page")),u.collectBaseURL=u.collectBaseURL||u.baseURL,u.sendPing=(r,s,c={})=>{const d=JSON.stringify({weight:n,id:a,referer:window.location.href,checkpoint:r,t:s,...c}),{href:l,origin:h}=new URL(`.rum/${n}`,u.collectBaseURL),f=h===window.location.origin?new Blob([d],{type:"application/json"}):d;navigator.sendBeacon(l,f),console.debug(`ping:${r}`,c)},u.sendPing("top",o()),u.enhance=()=>{const r=document.createElement("script");r.src=new URL(".rum/@adobe/helix-rum-enhancer@^2/src/index.js",u.baseURL).href,document.head.appendChild(r)},window.hlx.RUM_MANUAL_ENHANCE||u.enhance())}window.hlx.rum&&window.hlx.rum.isSelected&&t&&window.hlx.rum.collector(t,e,o()),document.dispatchEvent(new CustomEvent("rum",{detail:{checkpoint:t,data:e}}))}catch{}}function N(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.RUM_MANUAL_ENHANCE=!0,window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const t=document.querySelector('script[src$="/dist/scripts/scripts.min.js"]');if(t)try{[window.hlx.codeBasePath]=new URL(t.src).pathname.split("/dist/scripts/scripts.min.js")}catch(e){console.log(e)}}function P(){N(),u()}function m(t){return typeof t=="string"?t.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function E(t){return m(t).replace(/-([a-z])/g,e=>e[1].toUpperCase())}function R(t){const e={};return t.querySelectorAll(":scope > div").forEach(o=>{if(o.children){const n=[...o.children];if(n[1]){const a=n[1],i=m(n[0].textContent);let r="";if(a.querySelector("a")){const s=[...a.querySelectorAll("a")];s.length===1?r=s[0].href:r=s.map(c=>c.href)}else if(a.querySelector("img")){const s=[...a.querySelectorAll("img")];s.length===1?r=s[0].src:r=s.map(c=>c.src)}else if(a.querySelector("p")){const s=[...a.querySelectorAll("p")];s.length===1?r=s[0].textContent:r=s.map(c=>c.textContent)}else r=o.children[1].textContent;e[i]=r}}}),e}async function U(t){return new Promise((e,o)=>{if(document.querySelector(`head > link[href="${t}"]`))e();else{const n=document.createElement("link");n.rel="stylesheet",n.href=t,n.onload=e,n.onerror=o,document.head.append(n)}})}async function b(t,e){return new Promise((o,n)=>{if(document.querySelector(`head > script[src="${t}"]`))o();else{const a=document.createElement("script");if(a.src=t,e)for(const i in e)a.setAttribute(i,e[i]);a.onload=o,a.onerror=n,document.head.append(a)}})}function y(t,e=document){const o=t&&t.includes(":")?"property":"name";return[...e.head.querySelectorAll(`meta[${o}="${t}"]`)].map(a=>a.content).join(", ")||""}function q(t,e="",o=!1,n=[{media:"(min-width: 600px)",width:"2000"},{width:"750"}]){const a=new URL(t,window.location.href),i=document.createElement("picture"),{pathname:r}=a,s=r.substring(r.lastIndexOf(".")+1);return n.forEach(c=>{const d=document.createElement("source");c.media&&d.setAttribute("media",c.media),d.setAttribute("type","image/webp"),d.setAttribute("srcset",`${r}?width=${c.width}&format=webply&optimize=medium`),i.appendChild(d)}),n.forEach((c,d)=>{if(d<n.length-1){const l=document.createElement("source");c.media&&l.setAttribute("media",c.media),l.setAttribute("srcset",`${r}?width=${c.width}&format=${s}&optimize=medium`),i.appendChild(l)}else{const l=document.createElement("img");l.setAttribute("loading",o?"eager":"lazy"),l.setAttribute("alt",e),i.appendChild(l),l.setAttribute("src",`${r}?width=${c.width}&format=${s}&optimize=medium`)}}),i}function B(){const t=(n,a)=>{a.split(",").forEach(i=>{n.classList.add(m(i.trim()))})},e=y("template");e&&t(document.body,e);const o=y("theme");o&&t(document.body,o)}function C(t){const e=["P","PRE","UL","OL","PICTURE","TABLE","H1","H2","H3","H4","H5","H6"],o=n=>{const a=document.createElement("p");a.append(...n.childNodes),n.append(a)};t.querySelectorAll(":scope > div > div").forEach(n=>{n.hasChildNodes()&&(!!n.firstElementChild&&e.some(i=>n.firstElementChild.tagName===i)?n.firstElementChild.tagName==="PICTURE"&&(n.children.length>1||n.textContent.trim())&&o(n):o(n))})}function _(t){t.querySelectorAll("a").forEach(e=>{if(e.title=e.title||e.textContent,e.href!==e.textContent){const o=e.parentElement,n=e.parentElement.parentElement;e.querySelector("img")||(o.childNodes.length===1&&(o.tagName==="P"||o.tagName==="DIV")&&(e.className="button",o.classList.add("button-container")),o.childNodes.length===1&&o.tagName==="STRONG"&&n.childNodes.length===1&&n.tagName==="P"&&(e.className="button primary",n.classList.add("button-container")),o.childNodes.length===1&&o.tagName==="EM"&&n.childNodes.length===1&&n.tagName==="P"&&(e.className="button secondary",n.classList.add("button-container")))}})}function x(t,e="",o=""){const n=Array.from(t.classList).find(i=>i.startsWith("icon-")).substring(5),a=document.createElement("img");a.dataset.iconName=n,a.src=`${window.hlx.codeBasePath}${e}/icons/${n}.svg`,a.alt=o,a.loading="lazy",t.append(a)}function T(t,e=""){[...t.querySelectorAll("span.icon")].forEach(n=>{x(n,e)})}function z(t){t.querySelectorAll(":scope > div").forEach(e=>{const o=[];let n=!1;[...e.children].forEach(i=>{if(i.tagName==="DIV"||!n){const r=document.createElement("div");o.push(r),n=i.tagName!=="DIV",n&&r.classList.add("default-content-wrapper")}o[o.length-1].append(i)}),o.forEach(i=>e.append(i)),e.classList.add("section"),e.dataset.sectionStatus="initialized",e.style.display="none";const a=e.querySelector("div.section-metadata");if(a){const i=R(a);Object.keys(i).forEach(r=>{r==="style"?i.style.split(",").filter(c=>c).map(c=>m(c.trim())).forEach(c=>e.classList.add(c)):e.dataset[E(r)]=i[r]}),a.parentNode.remove()}})}async function M(t="default"){return window.placeholders=window.placeholders||{},window.placeholders[t]||(window.placeholders[t]=new Promise(e=>{fetch(`${t==="default"?"":t}/placeholders.json`).then(o=>o.ok?o.json():{}).then(o=>{const n={};o.data.filter(a=>a.Key).forEach(a=>{n[E(a.Key)]=a.Text}),window.placeholders[t]=n,e(window.placeholders[t])}).catch(()=>{window.placeholders[t]={},e(window.placeholders[t])})})),window.placeholders[`${t}`]}function S(t,e){const o=Array.isArray(e)?e:[[e]],n=document.createElement("div");return n.classList.add(t),o.forEach(a=>{const i=document.createElement("div");a.forEach(r=>{const s=document.createElement("div");(r.elems?r.elems:[r]).forEach(d=>{d&&(typeof d=="string"?s.innerHTML+=d:s.appendChild(d))}),i.appendChild(s)}),n.appendChild(i)}),n}async function p(t){const e=t.dataset.blockStatus;if(e!=="loading"&&e!=="loaded"){t.dataset.blockStatus="loading";const{blockName:o}=t.dataset;try{const n=U(`${window.hlx.codeBasePath}/dist/blocks/${o}/${o}.min.css`),a=new Promise(i=>{(async()=>{try{const r=await $(()=>import(`${window.hlx.codeBasePath}/dist/blocks/${o}/${o}.min.js`),[]);r.default&&await r.default(t)}catch(r){console.log(`failed to load module for ${o}`,r)}i()})()});await Promise.all([n,a])}catch(n){console.log(`failed to load block ${o}`,n)}t.dataset.blockStatus="loaded"}return t}function w(t){const e=t.classList[0];if(e){t.classList.add("block"),t.dataset.blockName=e,t.dataset.blockStatus="initialized",C(t),t.parentElement.classList.add(`${e}-wrapper`);const n=t.closest(".section");n&&n.classList.add(`${e}-container`)}}function j(t){t.querySelectorAll("div.section > div > div").forEach(w)}async function H(t){const e=S("header","");return t.append(e),w(e),p(e)}async function I(t){const e=S("footer","");return t.append(e),w(e),p(e)}async function O(t){const e=t.querySelector("img");await new Promise(o=>{e&&!e.complete?(e.setAttribute("loading","eager"),e.addEventListener("load",o),e.addEventListener("error",o)):o()})}async function v(t,e){const o=t.dataset.sectionStatus;if(!o||o==="initialized"){t.dataset.sectionStatus="loading";const n=[...t.querySelectorAll("div.block")];for(let a=0;a<n.length;a+=1)await p(n[a]);e&&await e(t),t.dataset.sectionStatus="loaded",t.style.display=null}}async function k(t){const e=[...t.querySelectorAll("div.section")];for(let o=0;o<e.length;o+=1)await v(e[o])}P();export{$ as _,S as buildBlock,q as createOptimizedPicture,w as decorateBlock,j as decorateBlocks,_ as decorateButtons,T as decorateIcons,z as decorateSections,B as decorateTemplateAndTheme,M as fetchPlaceholders,y as getMetadata,p as loadBlock,U as loadCSS,I as loadFooter,H as loadHeader,b as loadScript,v as loadSection,k as loadSections,R as readBlockConfig,u as sampleRUM,N as setup,E as toCamelCase,m as toClassName,O as waitForFirstImage,C as wrapTextNodes};
