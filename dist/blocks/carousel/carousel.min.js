import{readBlockConfig as T}from"../../scripts/aem.min.js";var A=0 .constructor,G=A.isFinite;A.isInteger;var P=[].constructor.isArray;function l(r){return r!==null&&typeof r=="object"}function k(r){return typeof r=="function"}function g(r,t){return t===void 0&&(t=0),typeof r=="string"&&r.length>=t}function C(r){return G(r)}function x(r){return P(r)}function V(r,t){return l(r)&&t in r}var j=1e3,E="'\"`",B=function(){function r(t){this.size=t,this.reset()}return r.prototype.reset=function(){this.oldestIndex=0,this.map={},this.cachedKeys=new Array(this.size)},r.prototype.get=function(t){return this.map[t]},r.prototype.set=function(t,e){this.map[t]=e;var n=this.cachedKeys[this.oldestIndex];n!==void 0&&delete this.map[n],this.cachedKeys[this.oldestIndex]=t,this.oldestIndex++,this.oldestIndex%=this.size},r}(),S=new B(j);function I(r){var t=r.charAt(0),e=r.substr(-1);if(E.includes(t)||E.includes(e)){if(r.length<2||t!==e)throw new SyntaxError('Mismatching string quotation: "'+r+'"');return r.substring(1,r.length-1)}if(r.includes("["))throw new SyntaxError('Missing ] in varName "'+r+'"');return t==="+"?r.substr(1):r}function m(r,t,e){var n=t.trim();if(n==="")return r;if(n.startsWith("."))if(e){if(n=n.substr(1).trim(),n==="")return r}else throw new SyntaxError('Unexpected . at the start of "'+t+'"');else if(e)throw new SyntaxError('Missing . at the start of "'+t+'"');if(n.endsWith("."))throw new SyntaxError('Unexpected "." at the end of "'+t+'"');for(var a=n.split("."),i=0,s=a;i<s.length;i++){var o=s[i],h=o.trim();if(h==="")throw new SyntaxError('Empty prop name when parsing "'+t+'"');r.push(h)}return r}function y(r){if(!g(r))throw new TypeError("Cannot parse path. Expected string. Got a "+typeof r);for(var t,e=0,n,a,i=!1,s=new Array(0),o=0;o<r.length&&(t=r.indexOf("[",o),t!==-1);o=e){if(e=r.indexOf("]",t),e===-1)throw new SyntaxError('Missing ] in varName "'+r+'"');if(a=r.substring(t+1,e).trim(),a.length===0)throw new SyntaxError("Unexpected token ]");e++,n=r.substring(o,t),m(s,n,i),s.push(I(a)),i=!0}var h=r.substring(e);return m(s,h,i)}function M(r){var t=S.get(r);return t===void 0&&(t=y(r),S.set(r,t)),t}y.cached=M;function O(r,t,e){if(e===void 0&&(e={}),!l(e))throw new TypeError("get expects an object option. Got "+typeof e);var n=e.depth,a=n===void 0?10:n;if(!C(a)||a<=0)throw new RangeError("Expected a positive number for depth. Got "+a);var i=Array.isArray(t)?t:y.cached(t),s=function(){return i.join(" > ")};if(i.length>a)throw new ReferenceError("The path cannot be deeper than "+a+' levels. Got "'+s()+'"');for(var o=r,h=0,u=i;h<u.length;h++){var f=u[h];if(V(o,f))o=o[f];else{if(e.propsExist)throw new ReferenceError(f+' is not defined in the scope at path: "'+s()+'"');return}}return o}var z=function(){function r(t,e){var n=this;if(e===void 0&&(e={}),this.tokens=t,this.options=e,this.render=function(a){a===void 0&&(a={});var i=n.tokens.varNames,s=i.length;n.cacheParsedPaths();for(var o=new Array(s),h=0;h<s;h++)o[h]=O(a,n.toPathCache[h],n.options);return n.stringify(o)},this.renderFn=function(a,i){i===void 0&&(i={});var s=n.resolveVarNames(a,i);return n.stringify(s)},this.renderFnAsync=function(a,i){return i===void 0&&(i={}),Promise.all(n.resolveVarNames(a,i)).then(function(s){return n.stringify(s)})},!l(t)||!x(t.strings)||!x(t.varNames)||t.strings.length!==t.varNames.length+1)throw new TypeError("Invalid tokens object");if(!l(e))throw new TypeError("Options should be an object. Got a "+typeof e);e.validateVarNames&&this.cacheParsedPaths()}return r.prototype.cacheParsedPaths=function(){var t=this.tokens.varNames;if(this.toPathCache===void 0){this.toPathCache=new Array(t.length);for(var e=0;e<t.length;e++)this.toPathCache[e]=y.cached(t[e])}},r.prototype.resolveVarNames=function(t,e){e===void 0&&(e={});var n=this.tokens.varNames;if(!k(t))throw new TypeError("Expected a resolver function. Got "+String(t));for(var a=n.length,i=new Array(a),s=0;s<a;s++)i[s]=t.call(null,n[s],e);return i},r.prototype.stringify=function(t){for(var e=this.tokens.strings,n=this.options.explicit,a=t.length,i="",s=0;s<a;s++){i+=e[s];var o=t[s];(n||o!=null)&&(i+=o)}return i+=e[a],i},r}();function R(r,t){if(t===void 0&&(t={}),!g(r))throw new TypeError("The template parameter must be a string. Got a "+typeof r);if(!l(t))throw new TypeError("Options should be an object. Got a "+typeof t);var e=t.tags,n=e===void 0?["{{","}}"]:e,a=t.maxVarNameLength,i=a===void 0?1e3:a;if(!x(n)||n.length!==2)throw TypeError("tags should be an array of two elements. Got "+String(n));var s=n[0],o=n[1];if(!g(s,1)||!g(o,1)||s===o)throw new TypeError('The open and close symbols should be two distinct non-empty strings. Got "'+s+'" and "'+o+'"');if(!C(i)||i<=0)throw new Error("Expected a positive number for maxVarNameLength. Got "+i);for(var h=s.length,u=o.length,f,c=0,d,w=[],p=[],v=0;v<r.length&&(f=r.indexOf(s,v),f!==-1);){var b=f+h;if(c=r.substr(b,i+u).indexOf(o),c===-1)throw new SyntaxError('Missing "'+o+'" in the template for the "'+s+'" at position '+f+" within "+i+" characters");if(c+=b,d=r.substring(b,c).trim(),d.length===0)throw new SyntaxError('Unexpected "'+o+'" tag found at position '+f);if(d.includes(s))throw new SyntaxError('Variable names cannot have "'+s+'". But at position '+f+'. Got "'+d+'"');p.push(d),c+=u,w.push(r.substring(v,f)),v=c}return w.push(r.substring(c)),{strings:w,varNames:p}}function K(r,t){t===void 0&&(t={});var e=R(r,t);return new z(e,t)}function L(r,t,e){var n=K(r,e);return n.render(t)}const U="_carousel_pmv1o_1",_="_slide_pmv1o_4",F={carousel:U,slide:_},q=`<div class="{{carouselStyles.carousel}}" data-number-of-slides="{{config.numberOfSlides}}">
  <div class="{{carouselStyles.slide}}">
    slide.
  </div>
  <div class="{{carouselStyles.slide}}">
    slide.
  </div>
</div>`;function H(r){const t=T(r);r.innerHTML=L(q,{carouselStyles:F,config:t})}export{H as default};
